# 快速开始指南

## 第一次使用

### Windows用户

1. **双击运行 `start.bat`**
   - 系统会自动安装依赖包(首次运行)
   - 浏览器自动打开 http://127.0.0.1:5000

### Linux/macOS用户

1. **打开终端,进入annotation_tool目录**
   ```bash
   cd annotation_tool
   ./start.sh
   ```

2. **打开浏览器访问**
   ```
   http://127.0.0.1:5000
   ```

## 基本工作流程

### 1️⃣ 设置医生信息
```
左侧工具栏 → 输入医生名字 → 点击"确认"
```

### 2️⃣ 加载数据
```
输入数据目录路径 → 点击"加载"
↓
在文件列表中点击要标注的NRRD文件
```

### 3️⃣ 标注斑块
```
1. 使用上下箭头键浏览Z轴切片
2. 点击"选择"工具
3. 按空格键标记起始位置
4. 浏览到结束位置
5. 再次按空格键标记结束位置
6. 在右侧面板填写标注信息
7. 点击"添加标注"
```

### 4️⃣ 保存标注
```
左下角 → 点击"保存标注"
```

标注文件会自动保存到数据目录,命名为:
```
[原文件名]_[医生名字]_label.json
```

## 快捷键

| 快捷键 | 功能 |
|--------|------|
| ↑ / ↓ | 浏览Z轴切片 |
| 空格 | 标记选择点 |
| 右键 | 编辑/删除标注 |

## 标注颜色说明

- 🟢 **绿色**: 高置信度标注
- 🔵 **蓝色**: 中置信度标注
- 🟠 **橙色**: 低置信度标注
- 🟡 **黄色**: 当前未保存的选择

## 常见问题

### ❓ 找不到NRRD文件?
- 确保输入的是完整的目录路径
- 例如 Windows: `C:\Users\YourName\Data\CPR`
- 例如 Linux/macOS: `/home/username/data/cpr`

### ❓ 标注重叠怎么办?
- 不用担心!系统会自动处理
- 保存时会优先保留高置信度的标注
- 如果置信度相同,则保留时间更新的

### ❓ 如何修改已有标注?
- 在"已标注区域"列表中右键点击
- 选择"编辑标注"
- 修改后点击"更新标注"

## 技术支持

遇到问题? 请检查:
1. Python版本 ≥ 3.8
2. 依赖包是否正确安装
3. 数据文件格式是否为NRRD

---

**祝标注顺利! 🎉**
